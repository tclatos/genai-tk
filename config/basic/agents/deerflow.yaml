# Deer-flow Agent Configuration
# 
# Unified configuration for Deer-flow agents including profiles, skills, and sandbox settings.
#
# Profile Key Fields:
#   name:              Profile display name
#   description:       Profile description
#   mode:              Agent mode: flash (fast), thinking (reasoning), pro (planning), ultra (all features)
#   llm:               LLM identifier (ID like 'gpt_41mini@openai' or tag like 'fast_model'). Optional, defaults to global config.
#   tool_groups:       Deer-flow tool groups to enable (web, file, bash, image)
#   skill_directories: Directories to load skills from (loaded recursively)
#   mcp_servers:       MCP server names from config/mcp_servers.yaml
#   tools:             Additional GenAI Blueprint tools (factory/class/function patterns)
#   features:          Feature badges for UI display
#   examples:          Sample queries for the demo UI

# ============================================================================
# Global Configuration
# ============================================================================
deerflow:
  # Skills configuration
  skills:
    # Default directories to load skills from (absolute or relative to project root)
    # Skills are discovered recursively in 'public/' and 'custom/' subdirectories
    directories:
      - ${paths.project}/skills
    
    # Container mount path for skills (used in Docker sandbox)
    container_path: /mnt/skills
    
    # Enable skill loading tracing
    trace_loading: true
  
  # Sandbox configuration
  # Per-profile sandbox is configured via the 'sandbox' field on each profile.
  # Values: 'local' (default, no Docker) or 'docker' (full file/bash/code in container)

  # Default profile 
  # This is a YAML alias reference - update to point to your preferred default
  default_profile: &default_profile "Research Assistant"

# ============================================================================
# Agent Profiles
# ============================================================================
deerflow_agents:
  - name: "Research Assistant"
    description: "Web research with deep reasoning, visualizations, and skill execution"
    mode: "pro"  # thinking + plan mode
    #llm: "deepseek_v32@openrouter"  # Can use LLM ID or tag like 'fast_model'
    llm: gpt_oss120@openrouter
    sandbox: local
    tool_groups:
      - web
      - file
      - bash
    mcp_servers:
      - tavily-mcp
    skill_directories:
      - ${paths.project}/skills  # Load all skills recursively
    features:
      - "ğŸŒ Web Search"
      - "ğŸ“Š Data Analysis"
      - "ğŸ“ˆ Chart Generation"
      - "ğŸ§  Planning Mode"
    examples:
      - "Research the latest developments in quantum computing"
      - "Compare different approaches to RAG systems"
      - "Explain what MOE is to a 12-year-old boy"

  - name: "Web Browser"
    description: "Fast web browsing and content extraction"
    mode: "flash"  # quick responses
    sandbox: local
    tool_groups:
      - web
    mcp_servers:
      - playwright
    features:
      - "ğŸŒ Web Browsing"
      - "ğŸ“„ Content Extraction"
      - "âš¡ Fast Mode"
    examples:
      - "Go to atos.net, find the blog section and list recent articles"
      - "Navigate to github.com/bytedance/deer-flow and summarize the project"

  - name: "Coder"
    description: "Code execution with subagents"
    mode: "ultra"  # all features enabled
    sandbox: docker  # Docker required for full code execution
    tool_groups:
      - web
      - file
      - bash
    skill_directories:
      - ${paths.project}/skills  # Load all skills recursively
    features:
      - "ğŸ’» Code Execution"
      - "ğŸ“ File Operations"
      - "ğŸ”§ Bash Commands"
      - "ğŸ¤– Sub-Agents"
    examples:
      - "Write a Python script that fetches weather data and creates a visualization"
      - "Analyze the codebase structure and suggest improvements"

  - name: "Chinook DB + Research"
    description: "SQL database with web research"
    mode: "thinking"  # reasoning mode
    sandbox: local
    tool_groups:
      - web
    mcp_servers:
      - tavily-mcp
    tools:
      - factory: genai_tk.tools.langchain.sql_tool_factory:create_sql_tool_from_config
        config:
          database_uri: "sqlite:///use_case_data/other/Chinook.db"
          tool_name: "query_chinook"
          tool_description: "Query the Chinook music database for information about artists, albums, tracks, customers, and invoices"
          top_k: 15
    skill_directories:
      - ${paths.project}/skills  # Load all skills recursively
    features:
      - "ğŸ—„ï¸ SQL Database"
      - "ğŸ” Web Search"
      - "ğŸ“Š Data Visualization"
    examples:
      - "Find the top 5 genres by number of tracks, then research each genre's history"

  - name: "Weather & Files"
    description: "Weather queries with file operations"
    mode: "flash"
    sandbox: local
    tool_groups:
      - web
      - file
    mcp_servers:
      - weather
      - ppt
    skill_directories:
      - ${paths.project}/skills  # Load all skills recursively
    features:
      - "ğŸ“ File Operations"
      - "ğŸŒ¤ï¸ Weather Info"
      - "ğŸ“Š Presentations"
    examples:
      - "Get the weather in Toulouse and create a PowerPoint about it"
      - "What is the weather in New York, London, and Tokyo? Save a comparison report"

  - name: "Visual Explainer"
    description: "Direct explanations with diagrams and visualizations (minimal questions)"
    mode: "thinking"  # reasoning but not full planning
    sandbox: local
    tool_groups:
      - web
      - file
      - bash
    mcp_servers:
      - tavily-mcp
    skill_directories:
      - ${paths.project}/skills  # Load all skills recursively
    features:
      - "ğŸ“Š Diagram Generation"
      - "ğŸ¨ Visualizations"
      - "ğŸ§  Clear Explanations"
      - "âš¡ Direct Answers"
    examples:
      - "Explain what MOE is to a 12-year-old boy"
      - "Explain transformer architecture with a diagram"
      - "Visualize how attention mechanism works"
      - "Create a flowchart of the RAG pipeline"
